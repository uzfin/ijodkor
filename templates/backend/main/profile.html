{% extends 'backend/main/base.html' %}
{% block title %} Update user {% endblock title %}
{% block page_name %} Update user {% endblock page_name %}

{% block breadcrumb %} 
<li class="breadcrumb-item"><a href="{% url 'admn_home' %}">Home</a></li>
<li class="breadcrumb-item active">Update user</li>
{% endblock breadcrumb %}

{% block content %}
<style>
    .card {
        box-shadow: none !important;
        margin-bottom: 1rem;
    }
    .card {
        border-top: 3px solid #007bff !important;
    }

    .image-preview {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-top: 50px;
   position: relative;
  
}

.image-upload-label {
    width: 100%;
    height: 100%;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  cursor: pointer;
  margin-bottom: 20px;
}

.image-upload-button {
  font-size: 2rem;
  font-weight: bold;
  color: #007bff;
  background-color: transparent;
  border: none;
  cursor: pointer;
  position: absolute;
  bottom: 20px;
  right: 20px;
}

.image-upload-button:hover {
  color: #0069d9;
}

.image-preview-container {
  width: 200px;
  height: 200px;
  border: 2px dashed #ccc;
  border-radius: 50%;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
}

.image-preview-image {
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
}
#imageUpload{
    display: none;
}


</style>

<div class="col-md-6">
    <div class="card card-primary" style="border-radius: 2px solid #007bff;">
      <form method="post" action="/update-profile" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="card-body">

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Ism</label>
                        <input type="text" class="form-control" name="ism" placeholder="Ismingizni kiriting" value="{{user.first_name}}">
                        <input type="hidden" class="form-control" name="user_id" value="{{user.id}}">
                    </div>
                    <div class="form-group">
                        <label>Familya</label>
                        <input type="text" class="form-control" name="familya" placeholder="Familyangizni kiriting" value="{{user.last_name}}">
                    </div>
                    <div class="form-group">
                        <label>Login</label>
                        <input type="text" class="form-control" name="login" value="{{user.username}}" readonly>
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="image-preview">
                        <label for="imageUpload" class="image-upload-button fa fa-camera"></label>
                        <div for="imageUpload" class="image-upload-label">
                          <input type="file" name="rasm" id="imageUpload" accept="image/*">
                        </div>
                        <div class="image-preview-container">
                          <div class="image-preview-image"></div>
                        </div>
                      </div>
                  </div>
            </div>
          <button type="submit" class="btn btn-primary float-right">Yangilash</button>
        </div>

          
      </form>
    </div>
  </div>

{% endblock content %}